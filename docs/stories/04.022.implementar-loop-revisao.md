# Story 04.022: Implementar Loop de Revisão

**Status:** Draft
**Owner:** scrum-master
**Last Updated:** 2025-10-21

---

## Story

**As a** founder,
**I want** loop de revisão automático,
**so that** posts com score < 8.5 sejam melhorados

*Owner: scrum-master | Editors: scrum-master*

---

## Acceptance Criteria

1. Se voice score < 8.5: Post rejeitado automaticamente, Feedback detalhado mostrado, 3 opções oferecidas (Regenerar/Editar/Cancelar)
2. Se founder escolhe Regenerar: Lucas usa feedback de Beatriz, Gera nova versão, Valida novamente, Loop até score >= 8.5 OU founder cancelar
3. Se founder escolhe Editar: Post aberto para edição, Founder faz ajustes, Valida novamente, Loop até score >= 8.5 OU founder aprovar manualmente
4. Limite: máximo 3 tentativas de regeneração (evitar loop infinito)
5. Tracking de tentativas em logs

*Owner: scrum-master | Editors: scrum-master*

---

## Tasks / Subtasks

- [ ] Implementar lógica de loop de revisão (AC: #1, #2, #3)
- [ ] Adicionar opções de ação (regenerar/editar/cancelar) (AC: #1)
- [ ] Integrar feedback de Beatriz (AC: #2)
- [ ] Limitar a 3 tentativas (AC: #4)
- [ ] Testar cenário de score baixo
- [ ] Documentar em Workflow #3 (AC: #5)

*Owner: scrum-master | Editors: scrum-master, dev-agent*

---

## Dev Notes

Implementar lógica de loop de revisão: se voice score < 8.5, rejeitar post, mostrar feedback, sugerir melhorias, permitir regeneração ou edição manual.

**Estimate:** 2 story points
**Dependencies:** STORY-020
**Priority:** P1
**Epic:** EPIC-04

### Testing Standards

- Seguir padrões de teste do projeto
- Testes devem cobrir todos critérios de aceite
- Documentar casos de teste em QA Results

*Owner: scrum-master | Editors: scrum-master*

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-21 | 1.0.0 | Story criada a partir de migração para formato BMad | scrum-master |

*Owner: scrum-master | Editors: scrum-master, dev-agent, qa-agent*

---

## Dev Agent Record

*This section will be populated by the development agent during implementation*

### Agent Model Used

*To be filled by dev-agent*

### Debug Log References

*To be filled by dev-agent*

### Completion Notes List

*To be filled by dev-agent*

### File List

*To be filled by dev-agent*

*Owner: dev-agent | Editors: dev-agent*

---

## QA Results

*Results from QA Agent review will be documented here*

*Owner: qa-agent | Editors: qa-agent*
