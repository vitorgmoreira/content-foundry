# Story 03.015: Implementar Quality Gates

**Status:** Review
**Owner:** scrum-master
**Last Updated:** 2025-10-22

---

## Story

**As a** founder,
**I want** quality gates automáticos,
**so that** apenas conteúdo de alta qualidade seja aprovado

*Owner: scrum-master | Editors: scrum-master*

---

## Acceptance Criteria

1. 5 quality gates implementados: Layer 1 Structure (gancho/corpo/CTA), Layer 2 Length (>= 800, <= 1300 chars), Layer 3 Authenticity (voice >= 8.5, sem chavões), Layer 4 Brand Alignment (alinhado com pilares/valores), Layer 5 Editorial (safe mode respeitado, sem typos)
2. Se QUALQUER gate falha: Post rejeitado, Feedback específico gerado, Sugestões de correção, Loop de revisão
3. Se TODOS gates passam: Post aprovado, Salvo em docs/content/, Log de sucesso
4. Checklist `pronto-para-publicar-linkedin.md` criada

*Owner: scrum-master | Editors: scrum-master*

---

## Tasks / Subtasks

- [x] Definir lógica de cada gate (AC: #1)
- [x] Criar checklist `.content-foundry/checklists/pronto-para-publicar-linkedin.md` (AC: #4)
- [x] Implementar validações (AC: #1)
- [x] Gerar feedback específico por gate (AC: #2)
- [x] Testar com posts bons e ruins (AC: #3)

*Owner: scrum-master | Editors: scrum-master, dev-agent*

---

## Dev Notes

Implementar 5 layers de quality gates que validam post antes de salvar: Structure, Length, Authenticity, Brand Alignment, Editorial.

**Estimate:** 3 story points
**Dependencies:** STORY-008
**Priority:** P0
**Epic:** EPIC-03

### Testing Standards

- Seguir padrões de teste do projeto
- Testes devem cobrir todos critérios de aceite
- Documentar casos de teste em QA Results

*Owner: scrum-master | Editors: scrum-master*

---

## Change Log

| Date | Version | Description | Author |
|------|---------|-------------|--------|
| 2025-10-21 | 1.0.0 | Story criada a partir de migração para formato BMad | scrum-master |
| 2025-10-22 | 1.1.0 | Quality Gates implementados - 5 gates, 14 critérios, 700+ linhas | dev-agent |

*Owner: scrum-master | Editors: scrum-master, dev-agent, qa-agent*

---

## Dev Agent Record

### Agent Model Used

Claude Sonnet 4.5 (claude-sonnet-4-5-20250929)

### Debug Log References

No debug log necessary

### Completion Notes List

1. **5 Quality Gates Implementados**: Structure, Length, Authenticity, Brand Alignment, Editorial
2. **14 Critérios Totais**: Gate 1 (4), Gate 2 (2), Gate 3 (3), Gate 4 (2), Gate 5 (3)
3. **Política 100%**: Todos os 14 critérios devem passar para aprovação
4. **Feedback Específico**: Cada gate gera feedback detalhado com sugestões de correção
5. **Stop-on-First-Failure**: Gates executam sequencialmente, param no primeiro erro
6. **Loop de Revisão**: Post rejeitado retorna para Step 3, 4 ou 2 dependendo do problema
7. **Integração Beatriz**: Gate 3.1 usa voice score de Beatriz (threshold 8.5)
8. **Anti-Chavões**: Gate 3.2 detecta 24+ chavões PT-BR e EN
9. **Validação Brain.md**: Gates 4 e 5 requerem brain.md (pilares, valores, safe mode)
10. **Testes Completos**: Testados posts bons (passam) e ruins (falham) para cada gate

### File List

1. **pronto-para-publicar-linkedin.md** (700+ linhas)
   - 5 quality gates detalhados
   - 14 critérios com validação step-by-step
   - Feedback específico para cada falha
   - Sugestões de correção
   - Instruções de uso
   - Troubleshooting
   - Resumo de aprovação/rejeição

2. **test-quality-gates.md** (1000+ linhas)
   - Testes para cada um dos 5 gates
   - Posts bons (devem passar)
   - Posts ruins (devem falhar)
   - Teste de sistema completo
   - Cobertura 100% dos ACs

**Total:** 2 arquivos, todos ACs atendidos

*Owner: dev-agent | Editors: dev-agent*

---

## QA Results

*Results from QA Agent review will be documented here*

*Owner: qa-agent | Editors: qa-agent*
